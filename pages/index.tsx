import type { NextPage } from 'next'
import Head from 'next/head'
import { useState } from 'react'
import styles from '../styles/Home.module.css'

const Home: NextPage = () => {
  const [text,setText]=useState("");
  const [task,setTask]=useState(["ああああ","いいい"]);

  const handleText=(e)=>{
    setText(e.target.value);
  }

  const taskInput=()=>{
    if(text===""){
      return;
    }
    const newTask=[...task,text];
    setTask(newTask);
    setText("");
    console.log(task);
  }

  const handleDelete=(index)=>{
    const newTask=[...task];
    newTask.splice(index,1);
    setTask(newTask);
  }



  return (
    <div className={styles.container}>
      <Head>
        <title>TO DO アプリ</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <h1>TODO App</h1>

      <textarea value={text} onChange={handleText}/>
      <button onClick={taskInput}>タスク追加</button>
        {task.map((todo,index)=>{
          return(
          <div key={todo}>
            <p>{todo}</p>
            <button onClick={()=>handleDelete(index)}>削除</button>
          </div>
          )
        })}
    </div>
  )
}

export default Home
